areas_p2 <- rep(c('arte', 'bio', 'edf', 'filo', 'fis', 'geo',
'hist', 'mat', 'quim', 'sol'), each=20)
result$area <- c(areas_p1, areas_p2)
teste <- list(cg = p1,
pt = p2,
es = p3,
fr = p4,
en = p5,
arte = p6,
bio = p7,
edf = p8,
filo = p9,
fis = p10,
geo = p11,
hist = p12,
mat = p13,
quim = p14,
sol = p15)
return(teste)
}
ano <- c(2018, 2019)
versao <- c('inverno', 'verao')
for(ano in ano){
for(versao in versao){
file <- paste0('vestibular_', ano, '_', versao)
pdf_path <- paste0('./pdf/vestibular/', file ,'.pdf')
txt_output <- pdftools::pdf_text(pdf_path)
filename = paste0('./vestibular/' , file, '.json')
result <- pdf_to_data_frame_vestibular_v1(txt_output)
toJSON(result, pretty = T, auto_unbox=T) %>% write(filename)
}
}
ano <- 2019
versao <- 'verao'
ano <- 2019
versao <- 'verao'
file <- paste0('vestibular_', ano, '_', versao)
pdf_path <- paste0('./pdf/vestibular/', file ,'.pdf')
txt_output <- pdftools::pdf_text(pdf_path)
=======
>>>>>>> 46f0cf12fec1d06ce400ad867433bc19a9eeecbb
>>>>>>> b315f74977238b1ac6913b3cc13c2941893cac6b
knitr::opts_chunk$set(message = F, warning = F, echo=F)
library(shiny)
library(shiny)
library(knitr)
library(corrplot)
source("./01analise_functions.R")
pacientes %<>% filter(dist < 50)
pacientes <- pacientes %>% filter(dist < 50)
medias <- pacientes %>% group_by(Medico) %>%
summarise(media=mean(dist))
medias[order(medias[,2], decreasing = T),]
medias <- pacientes %>% group_by(Medico) %>%
summarise(media=mean(dist)) %>% arrange()
medias <- pacientes %>% group_by(Medico) %>%
summarise(media=mean(dist)) %>% arrange()
medias
medias <- pacientes %>% group_by(Medico) %>%
summarise(media=mean(dist)) %>% arrange(media)
medias
medias <- pacientes %>% group_by(Medico) %>%
summarise(media=mean(dist)) %>% arrange(media, decreasing=T)
medias
medias <- pacientes %>% group_by(Medico) %>%
summarise(media=mean(dist)) %>% arrange(desc(medias))
medias
medias <- pacientes %>% group_by(Medico) %>%
summarise(media=mean(dist)) %>% arrange(desc(medias))
medias
desc(medias)
medias <- pacientes %>% group_by(Medico) %>%
summarise(media=mean(dist)) %>% arrange(desc(media))
medias
medias$grupo <- c('A', 'A', 'B', 'B', 'BC', 'BC', 'C')
medias %>% make_table()
library(PMCMR)
library(FSA)
# funï¿½ao mapa medico
mapa_idade<-function(){
cof <- colorFactor(c("red", "blue", "orange","black"), domain=c("20 a 40","40 a 60","acima de 60","menor que 20"))
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 7) %>%
addCircleMarkers(~Longitude, ~Latitude, weight = 3, radius=4,
color=~cof(pacientes$categoria), stroke = F, fillOpacity = 0.9)  %>%
addLegend("bottomright", colors= c("red", "blue", "orange"), labels=c("Menor que 40 anos","Entre 40 anos e 60 anos","Maior que 40 anos"), title="Idade")
}
mapa_idade()
library(ggplot2)
library(gridExtra)
library(dplyr)
library(leaflet)
library(corrplot)
library(leaflet)
library(readxl)
library(nortest)
library(stringr)
mapa_idade
mapa_idade()
pacientes <- read.table('./data/pacientes.csv', sep=',', h=T)
medicos <- read_xlsx('./data/dados_raw.xlsx', sheet = 2)
fill_color <- 'royalblue'
mapa_idade()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 7) %>%
addCircleMarkers(~Longitude, ~Latitude, weight = 3, radius=4,
color=~cof(Medico), stroke = F, fillOpacity = 0.9)
}
mapa_geral()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 7) %>%
addCircleMarkers(~Longitude, ~Latitude, weight = 3, radius=4,stroke = F, fillOpacity = 0.9)
}
mapa_geral()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 7) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,intensity=~Trend,max=100,radius=20,blur=10)
}
mapa_geral()
install.packages("leaflet.extras")
library(leaflet.extras)
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 7) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,intensity=~Trend,max=100,radius=20,blur=10)
}
mapa_geral()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 7) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=20,blur=10)
}
mapa_geral()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 10) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=20,blur=10)
}
mapa_geral()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 15) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=20,blur=10)
}
mapa_geral()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=20,blur=10)
}
mapa_geral()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,intensity=~Idade,max=100,radius=20,blur=10)
}
mapa_geral()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=30,blur=10)
}
mapa_geral()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=20,blur=15)
}
mapa_geral()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 13) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=20,blur=15)
}
mapa_geral()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=20,blur=15)
}
mapa_geral()
# funï¿½ao mapa medico
mapa_geral<-function(){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=20,blur=50)
}
mapa_geral()
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=20,blur=10)
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=500,blur=10)
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=5,blur=10)
20
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=20,blur=10)
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=20,blur=10, itensity=~Idade)
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=20,blur=10, intensity=~Idade)
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=5,blur=10, intensity=~Idade)
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=5,blur=5, intensity=~Idade)
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=10,blur=5, intensity=~Idade)
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=10,blur=50, intensity=~Idade)
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=10,blur=10, intensity=~Idade)
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=5,blur=10, intensity=~Idade)
mapa_geral<-function(radius, blur){
leaflet(pacientes)  %>%
addProviderTiles("Esri") %>%
setView(-51.931180, -23.415453, zoom = 12) %>%
addHeatmap(lng=~Longitude,lat=~Latitude,max=100,radius=radius,blur=blur)
}
source("./01analise_functions.R")
library(readxl)
library(dplyr)
library(stringr)
##### reading the data #####
data <- read_xlsx('./data/Dados abelhas.xlsx', sheet = 1)
# renaming columns
names(data) <- c(
'meses', 'colonias', 'comp_canudo', 'diam_canudo',
'n_potes_mel', 'n_discos', 'tam_discos', 'peso', 'est_pop'
)
# converting months
data$meses <- month.abb[data$meses]
###############################
write.table(data, './data/data.csv', sep=',')
View(data)
teste_normal <- function(var){
shapiro <- shapiro.test(var)
ad <- ad.test(var)
cvm <- cvm.test(var)
lillie <- lillie.test(var)
rbind(shapiro,ad,cvm, lillie) %>% as.data.frame(row.names = F) %>%
select(-c(statistic, data.name)) %>%
relocate(method) %>%
mutate(method = str_replace_all(method, 'normality test', '')) %>%
mutate(decis?o = ifelse(p.value > 0.05, 'N?o rejeita H0', 'Rejeita H0')) %>%
return()
}
View(data)
##### verificando presenÃ§a de NA #####
vis_dat(data)
library(ggplot2)
library(gridExtra)
library(dplyr)
library(leaflet)
library(corrplot)
library(leaflet)
library(visdat)
source('./00manipulando_dados.R')
View(data)
##### verificando presenÃ§a de NA #####
vis_dat(data)
getwd()
#grafico ggplotly#####
graf_linha<-function(variavel){
a <- data %>% ggplot(aes(x=meses, y=variavel, color=colonias)) +
geom_line() + theme(legend.position = 'bottom')
ggplotly(a)
}
source("../01analise_functions.r")
source("..\01analise_functions.r")
source("..\\01analise_functions.r")
source("..\\01analise_functions.r")
source("..\\01analise_functions.r")
source("..\\01analise_functions.r")
source("..\\01analise_functions.r")
source("../01analise_functions.r")
source("../01analise_functions.R")
source("./01analise_functions.R")
git branch
library(readxl)
library(dplyr)
library(stringr)
library(readxl)
library(dplyr)
library(stringr)
##### reading the data #####
data <- read_xlsx('./data/Dados abelhas.xlsx', sheet = 1)
# renaming columns
names(data) <- c(
'meses', 'colonias', 'comp_canudo', 'diam_canudo',
'n_potes_mel', 'n_discos', 'tam_discos', 'peso', 'est_pop'
)
#
data$meses <- factor(month.abb[data$meses], levels = month.abb)
data$colonias <- factor(data$colonias, levels = paste('COL', 1:17))
###############################
write.table(data, './data/data.csv', sep=',')
View(data)
View(data)
data$estacao<-case_when(
data$meses <= 'Jan'| 'Feb' | 'Mar' ~ 'Verao'
data$meses <= 'Apr'| 'May' | 'Jun' ~ 'Outono'
data$meses <= 'Jul'| 'Aug' | 'Sep' ~ 'Inverno'
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses <= 'Jan'| 'Feb' | 'Mar' ~ 'Verao',
data$meses <= 'Apr'| 'May' | 'Jun' ~ 'Outono',
data$meses <= 'Jul'| 'Aug' | 'Sep' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses <= 'Jan'|| 'Feb' || 'Mar' ~ 'Verao',
data$meses <= 'Apr'|| 'May' || 'Jun' ~ 'Outono',
data$meses <= 'Jul'|| 'Aug' || 'Sep' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses || 'Jan' || 'Feb' || 'Mar' ~ 'Verao',
data$meses || 'Apr' || 'May' || 'Jun' ~ 'Outono',
data$meses || 'Jul' || 'Aug' || 'Sep' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses | 'Jan' | 'Feb' | 'Mar' ~ 'Verao',
data$meses | 'Apr' | 'May' | 'Jun' ~ 'Outono',
data$meses | 'Jul' | 'Aug' | 'Sep' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan' | 'Feb' | 'Mar' ~ 'Verao',
data$meses | 'Apr' | 'May' | 'Jun' ~ 'Outono',
data$meses | 'Jul' | 'Aug' | 'Sep' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan'  ~ 'Verao',
data$meses | 'Apr'  ~ 'Outono',
data$meses | 'Jul' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan'  ~ 'Verao',
data$meses == 'Apr'  ~ 'Outono',
data$meses =='Jul' ~ 'Inverno',
TRUE ~ 'Primavera'
)
View(data)
data$estacao<-case_when(
data$meses == 'Jan'|'Feb'  ~ 'Verao',
data$meses == 'Apr'  ~ 'Outono',
data$meses =='Jul' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan'||'Feb'  ~ 'Verao',
data$meses == 'Apr'  ~ 'Outono',
data$meses =='Jul' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan'||'Feb'||'Mar'  ~ 'Verao',
data$meses == 'Apr'  ~ 'Outono',
data$meses =='Jul' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan' || 'Feb' || 'Mar' ~ 'Verao',
data$meses == 'Apr' || 'May' || 'Jun' ~ 'Outono',
data$meses == 'Jul' || 'Aug' || 'Sep' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan' || 'Feb' || 'Mar' ~ 'Verao',
data$meses == 'Jul' || 'Aug' || 'Sep' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan' || 'Feb' || 'Mar' ~ 'Verao',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan' || 'Feb' || 'Mar' ~ 'Verao',
data$meses == 'Jul' || 'Aug' || 'Sep' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan' || 'Feb' || 'Mar' ~ 'Verao',
data$meses == 'Apr' || 'May' || 'Jun' ~ 'Outono',
data$meses == 'Jul' || 'Aug' || 'Sep' ~ 'Inverno',
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan' || 'Feb' || 'Mar' ~ 'Verao' ,
data$meses == 'Apr' || 'May' || 'Jun' ~ 'Outono' ,
data$meses == 'Jul' || 'Aug' || 'Sep' ~ 'Inverno' ,
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan' || 'Feb' || 'Mar' ~ 'Verao' ,
data$meses == 'Apr' | 'May' | 'Jun' ~ 'Outono' ,
data$meses == 'Jul' || 'Aug' || 'Sep' ~ 'Inverno' ,
TRUE ~ 'Primavera'
)
library(readxl)
library(dplyr)
library(stringr)
##### reading the data #####
data <- read_xlsx('./data/Dados abelhas.xlsx', sheet = 1)
library(stringr)
# renaming columns
names(data) <- c(
'meses', 'colonias', 'comp_canudo', 'diam_canudo',
'n_potes_mel', 'n_discos', 'tam_discos', 'peso', 'est_pop'
)
data$estacao<-case_when(
data$meses == 'Jan' || 'Feb' || 'Mar' ~ 'Verao' ,
data$meses == 'Apr' || 'May' || 'Jun' ~ 'Outono' ,
data$meses == 'Jul' || 'Aug' || 'Sep' ~ 'Inverno' ,
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan' || 'Feb' || 'Mar' ~ 'Verao' ,
data$meses == 'Apr' || 'May' || 'Jun' ~ 'Outono' ,
data$meses == 'Jul' || 'Aug' || 'Sep' ~ 'Inverno' ,
TRUE ~ 'Primavera'
)
data$meses <- factor(month.abb[data$meses], levels = month.abb)
data$colonias <- factor(data$colonias, levels = paste('COL', 1:17))
data$estacao<-case_when(
data$meses == 'Jan' || 'Feb' || 'Mar' ~ 'Verao' ,
data$meses == 'Apr' || 'May' || 'Jun' ~ 'Outono' ,
data$meses == 'Jul' || 'Aug' || 'Sep' ~ 'Inverno' ,
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan' || 'Feb' || 'Mar' ~ 'Verao' ,
data$meses == 'Apr' || 'May' || 'Jun' ~ 'Outono' ,
data$meses == 'Jul' || 'Aug' || 'Sep' ~ 'Inverno' ,
TRUE ~ 'Primavera'
)
data$estacao<-case_when(
data$meses == 'Jan' || 'Feb' || 'Mar' ~ 'Verao' ,
data$meses == 'Apr' || 'May' || 'Jun' ~ 'Outono' ,
data$meses == 'Jul' || 'Aug' || 'Sep' ~ 'Inverno' ,
TRUE ~ 'Primavera'
)
data$meses
month.abb
data$estacao<-case_when(
data$meses %in% month.abb[1:3] ~ 'Verao' ,
data$meses %in% month.abb[4:6] ~ 'Outono' ,
data$meses %in% month.abb[7:9] ~ 'Inverno' ,
TRUE ~ 'Primavera'
)
View(data)
View(data)
